<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Login - Auprolis</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/auth.css">
</head>
<body>
    <div style="padding: 2rem; max-width: 400px; margin: 0 auto;">
        <h1>Test Login</h1>
        
        <!-- Simple test form -->
        <form id="testLoginForm">
            <div style="margin-bottom: 1rem;">
                <label for="testEmail">Email:</label>
                <input type="email" id="testEmail" value="buyer@demo.com" style="width: 100%; padding: 0.5rem;">
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label for="testPassword">Password:</label>
                <input type="password" id="testPassword" value="password123" style="width: 100%; padding: 0.5rem;">
            </div>
            
            <button type="submit" style="width: 100%; padding: 0.75rem; background: #2563eb; color: white; border: none; border-radius: 4px;">
                Test Login
            </button>
        </form>
        
        <div id="testResults" style="margin-top: 1rem; padding: 1rem; background: #f3f4f6; border-radius: 4px;">
            <h3>Debug Info:</h3>
            <div id="debugOutput"></div>
        </div>
    </div>

    <!-- Load scripts in correct order -->
    <script src="assets/js/demo-data.js"></script>
    <script src="assets/js/firebase-config.js"></script>
    <script src="assets/js/demo-mode.js"></script>
    
    <script>
        // Simple test script
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Test page loaded');
            
            const debugOutput = document.getElementById('debugOutput');
            
            function log(message) {
                console.log(message);
                debugOutput.innerHTML += '<div>' + message + '</div>';
            }
            
            // Check what's available
            log('Firebase available: ' + (typeof firebase !== 'undefined'));
            log('DEMO_USERS available: ' + (typeof DEMO_USERS !== 'undefined'));
            log('DEMO_MODE: ' + (typeof DEMO_MODE !== 'undefined'));
            
            if (typeof firebase !== 'undefined') {
                log('Firebase auth available: ' + (typeof firebase.auth !== 'undefined'));
                if (firebase.auth) {
                    log('Firebase auth methods: ' + Object.keys(firebase.auth()));
                }
            }
            
            // Test form submission
            document.getElementById('testLoginForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                log('Form submitted');
                
                const email = document.getElementById('testEmail').value;
                const password = document.getElementById('testPassword').value;
                
                log('Attempting login with: ' + email);
                
                try {
                    if (typeof firebase !== 'undefined' && firebase.auth) {
                        const auth = firebase.auth();
                        log('Auth object created: ' + (auth ? 'yes' : 'no'));
                        
                        const result = await auth.signInWithEmailAndPassword(email, password);
                        log('Login successful: ' + JSON.stringify(result.user));
                    } else {
                        log('Firebase auth not available');
                    }
                } catch (error) {
                    log('Login error: ' + error.message);
                    log('Error code: ' + error.code);
                }
            });
        });
    </script>
</body>
</html>






